
local v0=game:GetService("Players");local v1=v0.LocalPlayer;while  not v1 do task.wait(1);v1=v0.LocalPlayer;end if ((game.PlaceId==15502339080) or (game.PlaceId==15588442388)) then else local v98=game:GetService("TeleportService");local v99=15502339080;v98:Teleport(v99,game.Players.LocalPlayer);return;end task.spawn(function() task.wait(30);local v23=getgenv().Settings_autoplaza.send_gem;local v24=v23.time_swap_plaza * 60 ;task.wait(v24);local v25=game:GetService("TeleportService");local v26=game:GetService("Players");local v27=v26.LocalPlayer;local v28=game.PlaceId;v25:Teleport(v28,v27);end);task.spawn(function() task.wait(25);local v29=game:GetService("VirtualInputManager");while true do game:GetService("ReplicatedStorage").Network["Mailbox: Claim All"]:InvokeServer();task.wait(300);v29:SendKeyEvent(true,Enum.KeyCode.Space,false,game);task.wait(0.1);v29:SendKeyEvent(false,Enum.KeyCode.Space,false,game);end end);local function v2(v30) local v31={b=1000000000,m=1000000,k=1000};local v32,v33=v30:match("([%d%.]+)([bmk])");if (v32 and v33 and v31[v33]) then return tonumber(v32) * v31[v33] ;else return tonumber(v30);end end task.spawn(function() task.wait(20);local v34={"Happy Birthday %s!","Hope today brings %s!","Wishing you luck %s!","Congrats on your %s!","Give away %s!","You are amazing %s — here's a gift!"};local v35=getgenv().Settings_autoplaza.send_gem;if (v35.Play_mail==false) then return;end local v36=v35.User_name_mail;local v37=v2(v35.gem_mail);local v38=game:GetService("ReplicatedStorage");local v39=game:GetService("Players");local v40=v39.LocalPlayer;local v41=v38:WaitForChild("Library"):WaitForChild("Client");local v42=require(v41.Network);local v43=require(v41.Save).Get();while true do local v100=v40:WaitForChild("leaderstats"):WaitForChild("💎 Diamonds");local v101=nil;for v130,v131 in pairs(v43.Inventory['Currency']) do if (v131.id=="Diamonds") then v101=v130;break;end end if  not v101 then return;end if (v35.Play_mail and (v100.Value>=v37)) then v100.Value=v100.Value-5000000 ;local v159=string.format(v34[math.random(1, #v34)],v36);local v160,v161=pcall(function() return v42.Invoke("Mailbox: Send",v36,v159,"Currency",v101,v100.Value);end);if v160 then else end else end task.wait(30);end end);local v3=0;local v4=game:GetService("RunService");local v5=game:GetService("ReplicatedStorage");local v6=game:GetService("HttpService");local v7="https://ps99.biggamesapi.io/api/rap";local function v8() local v44,v45;if request then local v132=request({Url=v7,Method="GET",Headers={["Content-Type"]="application/json"}});v44=v132.Body;v45=v132.StatusCode;elseif (syn and syn.request) then local v182=syn.request({Url=v7,Method="GET",Headers={["Content-Type"]="application/json"}});v44=v182.Body;v45=v182.StatusCode;else local v185,v186=pcall(function() return v6:RequestAsync({Url=v7,Method="GET",Headers={["Content-Type"]="application/json"}});end);if  not v185 then return nil;end v44=v186.Body;v45=v186.StatusCode;end if (v45~=200) then return nil;end return v44;end local function v9(v46) local v47,v48=pcall(function() return v6:JSONDecode(v46);end);if  not v47 then return nil;end return v48;end local v10=v8();if  not v10 then return;end local v11=v9(v10);if  not v11 then return;end local function v12(v49,v50,v51,v52,v53) if ((type(v11)~="table") or (type(v11.data)~="table")) then return nil;end local v54={};if (v49 and (v49~="")) then table.insert(v54,"category='"   .. tostring(v49)   .. "'" );end if (v50 and (v50~="")) then table.insert(v54,"id='"   .. tostring(v50)   .. "'" );end if (v51~=nil) then table.insert(v54,"pt="   .. tostring(v51) );end if (v52~=nil) then table.insert(v54,"sh="   .. tostring(v52) );end if (v53~=nil) then table.insert(v54,"tn="   .. tostring(v53) );end if ( #v54==0) then else end for v102,v103 in ipairs(v11.data) do local v104=true;if (v49 and (v49~="")) then if (v103.category~=v49) then v104=false;end end local v105=v103.configData;if (v104 and v50 and (v50~="")) then if ( not v105 or (v105.id~=v50)) then v104=false;end end if v104 then if (v51==nil) then if (v105 and (v105.pt~=nil)) then v104=false;end elseif (v51~=nil) then if ( not v105 or (v105.pt~=v51)) then v104=false;end end end if v104 then if (v52~=nil) then if  not v105 then v104=false;elseif (v52==false) then if (v105.sh==true) then v104=false;end elseif (v105.sh~=v52) then v104=false;end elseif (v105 and (v105.sh~=nil)) then v104=false;end end if (v104 and (v53~=nil)) then if ( not v105 or (v105.tn~=v53)) then v104=false;end end if v104 then return v103.value;end end return nil;end local function v13() local v55=nil;local v56=v1.PlayerGui:WaitForChild("BoothPrompt"):WaitForChild("Frame");local v57=nil;for v106,v107 in ipairs(v56:GetDescendants()) do if (v107:IsA("TextLabel") and v107.Text:match("^%d+/%d+$")) then v57=v107.Text;break;end end if v57 then local v135,v136=v57:match("^(%d+)/(%d+)$");v55=tonumber(v135);if v55 then else end else end return v55;end local function v14(v58) if  not v58.Character then v58.CharacterAdded:Wait();end local v59=v58.Character:FindFirstChild("HumanoidRootPart");while  not v59 do v4.Heartbeat:Wait();v59=v58.Character:FindFirstChild("HumanoidRootPart");end return v59;end local function v15() local v60=workspace:FindFirstChild("TradingPlaza");if  not v60 then return nil,nil;end local v61=v60:FindFirstChild("BoothSpawns");if  not v61 then return nil,nil;end for v108,v109 in ipairs(v61:GetChildren()) do local v110=false;for v137,v138 in ipairs(v109:GetChildren()) do if v138:IsA("Model") then v110=true;break;end end if  not v110 then local v163=v109:GetAttribute("ID");if v163 then return v163,v109;else end end end return nil,nil;end local function v16(v62) local v63;if v62:IsA("BasePart") then local v139=v62.CFrame.Position;local v140=v62.CFrame-v62.CFrame.Position ;v63=CFrame.new(v139.X-1 ,v139.Y,v139.Z-5 ) * v140 ;elseif v62:IsA("Model") then local v189=v62.PrimaryPart or v62:FindFirstChildWhichIsA("BasePart") ;if v189 then local v216=v189.CFrame.Position;local v217=v189.CFrame-v189.CFrame.Position ;v63=CFrame.new(v216.X-1 ,v216.Y,v216.Z-5 ) * v217 ;end end if  not v63 then return false;end local v64=v14(v1);v64.CFrame=v63;task.wait(1);return true;end local function v17(v66) local v67=v5:WaitForChild("Network"):WaitForChild("Booths_ClaimBooth");local v68,v69=pcall(function() return v67:InvokeServer(tostring(v66));end);if v68 then else end end local v18={};v18.GetItemsByName=function(v70,v71) local v72=game:GetService("ReplicatedStorage");local v73=require(v72.Library.Client.Save).Get();local v74={};local function v75(v111,v112,v113,v114,v115,v116) if (type(v111)~="table") then return;end for v141,v142 in pairs(v111) do if ((type(v142)=="table") and v142.id) then if string.match(v142.id,"^"   .. v112   .. "$" ) then local v218=true;if ((v114~=nil) and (v142.pt~=v114)) then v218=false;end if ((v114==nil) and (v142.pt==1)) then v218=false;end if ((v114==nil) and (v142.pt==2)) then v218=false;end if ((v115==true) and (v142.sh==nil)) then v218=false;end if ((v115==nil) and (v142.sh==true)) then v218=false;end if ((v116~=nil) and (v142.tn~=v116)) then v218=false;end if v218 then table.insert(v74,{UID=v141,ID=v142.id,PT=v142.pt,SH=v142.sh,TN=v142.tn,Count=tonumber(v142._am) or 1 ,Category=v113});end end end end end local v71,v76,v77,v78,v79=Kiem_tra_ten_co_them_tu_la_(v71);v75(v73.Inventory.Pet,v71,"Pet",v77,v76,v78);if ( #v74==0) then local v143={{name="Hoverboard",category="Hoverboard"},{name="Consumable",category="Consumable"},{name="Potion",category="Potion"},{name="Charm",category="Charm"},{name="Misc",category="Misc"},{name="Egg",category="Egg"},{name="Booth",category="Booth"},{name="Enchant",category="Enchant"},{name="Lootbox",category="Lootbox"},{name="Seed",category="Seed"},{name="Ultimate",category="Ultimate"},{name="XPPotion",category="XPPotion"}};if ((v79=="Potion") or (v79=="Enchant") or (v79=="XPPotion")) then local v190={name=v79,category=v79};end for v164,v165 in ipairs(v143) do v75(v73.Inventory[v165.name],v71,v165.category,v77,v76,v78);end end if ( #v74==0) then warn("Khong tim thay vat pham nao voi ten chua '"   .. tostring(v71)   .. "'" );else for v166,v167 in ipairs(v74) do local v168=v12(v167.Category,v167.ID,v167.PT,v167.SH,v167.TN);local v169=v168 or 0 ;if (type(priceRaw)=="number") then v169=priceRaw;elseif (type(priceRaw)=="string") then local v224=priceRaw:match("^[+]?[%d%.]+%%$");if v224 then local v237=priceRaw:sub(1,1);local v238=tonumber(priceRaw:match("[%d%.]+"));if v238 then if (v237=="+") then v169=v169 + ((v169 * v238)/100) ;v169=math.floor(v169);else v169=v169-((v169 * v238)/100) ;v169=math.floor(v169);end else end else local v239=v2(priceRaw);if v239 then v169=v239;else end end end local v170=tostring(v167.UID);local v171=v169 or 0 ;local v172=tonumber(v167.Count) or 1 ;if (v171<1000) then v0.LocalPlayer:Kick("item < 1000 ????");end local v173=0;while true do if (v172>50000) then v173=v172-50000 ;v172=50000;end task.wait(1);game:GetService("ReplicatedStorage").Network.Booths_CreateListing:InvokeServer(v170,math.floor(v171),v172);task.wait(2);if (v173>0) then v172=v173;v173=0;else break;end end v3=v3 + 1 ;if (v3==25) then while true do local v219=v13();if (v219<25) then v3=v219;break;end task.wait(60);end end end end return v74;end;function Kiem_tra_ten_co_them_tu_la_(v80) local v81=nil;local v82=nil;local v83=nil;local v84=nil;if string.find(v80,"Shiny") then v81=true;v80=string.gsub(v80,"Shiny ","");end if string.find(v80,"Golden") then v82=1;v80=string.gsub(v80,"Golden ","");end if string.find(v80,"Rainbow") then v82=2;v80=string.gsub(v80,"Rainbow ","");end if string.find(v80,"Shiny Golden") then v81=true;v82=1;v80=string.gsub(v80,"Shiny Golden ","");end if string.find(v80,"Shiny Rainbow") then v81=true;v82=2;v80=string.gsub(v80,"Shiny Rainbow ","");end local v85=v80:match("TN(%d)");if v85 then v83=tonumber(v85);v80=string.gsub(v80," TN%d","");end if string.find(v80,"Enchant") then v84="Enchant";v80=string.gsub(v80,"Enchant ","");end if string.find(v80,"XPPotion") then v84="XPPotion";v80=string.gsub(v80,"XPPotion ","");end if string.find(v80,"Potion") then v84="Potion";v80=string.gsub(v80,"Potion ","");end return v80,v81,v82,v83,v84;end local function v20(v86) local v87=nil;local v88=getgenv().Settings_autoplaza and getgenv().Settings_autoplaza['Items'] ;if (type(v88)~="table") then warn("⚠️ Không thể lấy danh sách Items từ Settings");return;end for v117,v118 in ipairs(v88) do if (v118.Name==v86) then v87=v118.Data;break;end end if  not v87 then warn("❌ Không tìm thấy item: "   .. tostring(v86) );return;end warn("🛒 Đang xử lý item:",v86);priceRaw=v87.Price;Min_sell=v87.Min_sell;Max_sell=v87.Max_sell;sold_by_convention=v87.sold_by_convention;if string.find(v86,"All Huges") then local v144,v145,v146=Kiem_tra_ten_co_them_tu_la_(v86);local v147=require(v5.Library.Client.Save).Get();local v148={};v148.GetPets=function(v175) local v176={};for v191,v192 in pairs(v147.Inventory.Pet) do if string.find(v192.id,"Huge") then local v220=true;if ((v146~=nil) and (v192.pt~=v146)) then v220=false;end if ((v146==nil) and (v192.pt==1)) then v220=false;end if ((v146==nil) and (v192.pt==2)) then v220=false;end if ((v145==true) and (v192.sh==nil)) then v220=false;end if ((v145==nil) and (v192.sh==true)) then v220=false;end if v220 then table.insert(v176,{UID=v191,ID=v192.id,PT=v192.pt,SH=v192.sh});end end end return v176;end;local v150=v148:GetPets();if ( #v150==0) then else local v193={};for v205,v206 in ipairs(v150) do local v207=v12("Pet",v206.ID,v206.PT,v206.SH,nil);if v207 then end local v208=v207;local v209=v87.Price;local v210=v87.Min_sell;local v211=v87.Max_sell;local v212=0;local v213=0;v210=v2(v210);v211=v2(v211);if (type(v209)=="number") then v208=v209;elseif (type(v209)=="string") then local v240=v209:match("^[+]?[%d%.]+%%$");if v240 then local v244=v209:sub(1,1);local v245=tonumber(v209:match("[%d%.]+"));if  not v245 then return;end if (v244=="+") then if ((v208==nil) or  not v208) then v208=v211;end v208=v208 + ((v208 * v245)/100) ;v208=math.floor(v208);else if ((v208==nil) or  not v208) then v208=v211;end v208=v208-((v208 * v245)/100) ;v208=math.floor(v208);end else local v246=v2(v209);if v246 then v208=v246;else return;end end end if ((v210~=nil) and (v211~=nil)) then if (v210>v208) then v208=v210;end if (v211<v208) then v208=v211;end end if (sold_by_convention==true) then table.insert(v193,{UID_sell=v206.UID,valFinal_sell=v208});else local v225=tostring(v206.UID);local v226=v208 or 0 ;if (v226<1000) then v0.LocalPlayer:Kick("item < 1000 ????");end task.wait(1);game:GetService("ReplicatedStorage").Network.Booths_CreateListing:InvokeServer(v225,math.floor(v226),1);task.wait(2);v3=v3 + 1 ;if (v3==25) then while true do local v241=v13();if (v241<25) then v3=v241;break;end task.wait(60);end end end end if (sold_by_convention==true) then table.sort(v193,function(v227,v228) return v227.valFinal_sell<v228.valFinal_sell ;end);for v229,v230 in ipairs(v193) do local v231=v230.UID_sell;local v232=v230.valFinal_sell;if (v232<1000) then v0.LocalPlayer:Kick("item < 1000 ????");end task.wait(1);game:GetService("ReplicatedStorage").Network.Booths_CreateListing:InvokeServer(v231,math.floor(v232),1);task.wait(2);v3=v3 + 1 ;if (v3==25) then while true do local v242=v13();if (v242<25) then v3=v242;break;end task.wait(60);end end end end end end if (string.find(v86,"All Huges")==nil) then local v151=v18:GetItemsByName(v86);end end local function v21() local v93=getgenv().Settings_autoplaza['Items'];for v119,v120 in ipairs(v93) do wait(1);v20(v120.Name);end end if getgenv().Settings_autoplaza.xoa_Map then local v121=game:GetService("Players");local v122=game:GetService("Workspace");if (workspace:FindFirstChild("__THINGS") and workspace.__THINGS:FindFirstChild("Booths")) then for v194,v195 in ipairs(workspace.__THINGS.Booths:GetChildren()) do v195:Destroy();end end local v123=v122:FindFirstChild("TradingPlaza") and v122.TradingPlaza:FindFirstChild("VIP Parts") ;if v123 then v123:Destroy();end local v124=v122:FindFirstChild("TradingPlaza") and v122.TradingPlaza:FindFirstChild("INTERACT") ;if v124 then v124:Destroy();end local v125=workspace:WaitForChild("TradingPlaza"):WaitForChild("Parts");for v152,v153 in ipairs(v125:GetDescendants()) do if (v153.Name=="Waterfall") then v153:Destroy();end end local function v126() for v177,v178 in ipairs(v122:GetDescendants()) do if v178:IsA("BasePart") then v178.Transparency=1;v178.CastShadow=false;elseif (v178:IsA("Decal") or v178:IsA("Texture")) then v178.Transparency=1;end end end v126();local function v127() for v179,v180 in ipairs(v121:GetPlayers()) do if ((v180~=LocalPlayer) and v180.Character) then for v221,v222 in ipairs(v180.Character:GetDescendants()) do if v222:IsA("BasePart") then v222.Transparency=1;v222.CanCollide=false;elseif (v222:IsA("Decal") or v222:IsA("Texture")) then v222.Transparency=1;elseif (v222:IsA("Accessory") and v222:FindFirstChild("Handle")) then v222.Handle.Transparency=1;end end end end end v121.PlayerAdded:Connect(function(v154) v154.CharacterAdded:Connect(function() task.wait(1);v127();end);end);end while true do game:GetService("ReplicatedStorage").Network.Booths_DiscardBooth:InvokeServer();local v94,v95=v15();if ( not v94 or  not v95) then warn("Da ngung: Khong co boothID hoac spawnPoint hop le\n");else local v155=v16(v95);if v155 then v17(v94);wait(1);local v196=game:GetService("VirtualInputManager");v196:SendKeyEvent(true,Enum.KeyCode.E,false,game);task.wait(0.1);v196:SendKeyEvent(false,Enum.KeyCode.E,false,game);wait(1);else warn("???? "   .. v155 );end end local v96=game:GetService("Players").LocalPlayer.PlayerGui:WaitForChild("BoothPrompt"):WaitForChild("Frame");local v97=nil;for v128,v129 in ipairs(v96:GetDescendants()) do if (v129:IsA("TextLabel") and v129.Text:match("^%d+/%d+$")) then v97=v129.Text;break;end end if v97 then warn(v97);local v156,v157=v97:match("^(%d+)/(%d+)$");if (tonumber(v157)>4) then local v197=tonumber(v157);local v198=25;if (v197 and (v197<v198)) then local v223=v198-v197 ;for v234=1,v223 do game:GetService("ReplicatedStorage").Network.BoothSlotVoucher_Consume:InvokeServer();task.wait(2);end else end break;else local v199=game:GetService("TeleportService");local v200=game:GetService("Players");local v201=v200.LocalPlayer;local v202=game.PlaceId;v199:Teleport(v202,v201);end end wait(3);end if getgenv().Settings_autoplaza.xoa_Map then if (workspace:FindFirstChild("TradingPlaza") and workspace.TradingPlaza:FindFirstChild("BoothSpawns")) then for v203,v204 in ipairs(workspace.TradingPlaza.BoothSpawns:GetChildren()) do v204:Destroy();end end end v21();
